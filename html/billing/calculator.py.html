<html><body><h1>billing/calculator.py</h1>Killed 100 out of 116 mutants<h2>Survived</h2>Survived mutation testing. These mutants show holes in your test suite.<h3>Mutant 28</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -34,7 +34,7 @@
 
 # 2
 def apply_coupon(gross: float, coupon: str | None = None) -> float:
-    disc = COUPON_CODES.get(coupon.upper() if coupon else "", 0.0)
+    disc = COUPON_CODES.get(coupon.upper() if coupon else "XXXX", 0.0)
     return _round(gross * (1 - disc))
 
 # 3
</pre><h3>Mutant 76</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -98,7 +98,7 @@
 
 # 12
 def compute_bulk_total(unit_price: float, qty: int) -> float:
-    subtotal = compute_subtotal(unit_price, qty)
+    subtotal = None
     discount = bulk_discount(qty)
     subtotal = _round(subtotal * (1 - discount))
     return price_with_tax(subtotal)
</pre><h3>Mutant 77</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -99,7 +99,7 @@
 # 12
 def compute_bulk_total(unit_price: float, qty: int) -> float:
     subtotal = compute_subtotal(unit_price, qty)
-    discount = bulk_discount(qty)
+    discount = None
     subtotal = _round(subtotal * (1 - discount))
     return price_with_tax(subtotal)
 
</pre><h3>Mutant 78</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -100,7 +100,7 @@
 def compute_bulk_total(unit_price: float, qty: int) -> float:
     subtotal = compute_subtotal(unit_price, qty)
     discount = bulk_discount(qty)
-    subtotal = _round(subtotal * (1 - discount))
+    subtotal = _round(subtotal / (1 - discount))
     return price_with_tax(subtotal)
 
 # 13
</pre><h3>Mutant 79</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -100,7 +100,7 @@
 def compute_bulk_total(unit_price: float, qty: int) -> float:
     subtotal = compute_subtotal(unit_price, qty)
     discount = bulk_discount(qty)
-    subtotal = _round(subtotal * (1 - discount))
+    subtotal = _round(subtotal * (2 - discount))
     return price_with_tax(subtotal)
 
 # 13
</pre><h3>Mutant 80</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -100,7 +100,7 @@
 def compute_bulk_total(unit_price: float, qty: int) -> float:
     subtotal = compute_subtotal(unit_price, qty)
     discount = bulk_discount(qty)
-    subtotal = _round(subtotal * (1 - discount))
+    subtotal = _round(subtotal * (1 + discount))
     return price_with_tax(subtotal)
 
 # 13
</pre><h3>Mutant 81</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -100,7 +100,7 @@
 def compute_bulk_total(unit_price: float, qty: int) -> float:
     subtotal = compute_subtotal(unit_price, qty)
     discount = bulk_discount(qty)
-    subtotal = _round(subtotal * (1 - discount))
+    subtotal = None
     return price_with_tax(subtotal)
 
 # 13
</pre><h3>Mutant 103</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -136,7 +136,7 @@
         raise TypeError("decimals must be int")
     if not isinstance(value, float):
         raise TypeError("decimals must be int")
-    return float(Decimal(str(value)).quantize(Decimal((0, (1,), -decimals)), rounding=ROUND_HALF_UP))
+    return float(Decimal(str(value)).quantize(Decimal((1, (1,), -decimals)), rounding=ROUND_HALF_UP))
 
 # 20
 def is_weekend_rate(date: datetime) -> bool:
</pre><h3>Mutant 104</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -136,7 +136,7 @@
         raise TypeError("decimals must be int")
     if not isinstance(value, float):
         raise TypeError("decimals must be int")
-    return float(Decimal(str(value)).quantize(Decimal((0, (1,), -decimals)), rounding=ROUND_HALF_UP))
+    return float(Decimal(str(value)).quantize(Decimal((0, (2,), -decimals)), rounding=ROUND_HALF_UP))
 
 # 20
 def is_weekend_rate(date: datetime) -> bool:
</pre><h3>Mutant 109</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -46,7 +46,7 @@
 # 4
 def booking_fee(qty: int) -> float:
     if qty <= 0:
-        raise ValueError("qty must be positive")
+        raise ValueError("XXqty must be positiveXX")
     return _round(BOOKING_FEE_PER_TICKET * qty)
 
 # 5
</pre><h3>Mutant 112</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -75,7 +75,7 @@
     if rate is None:
         raise KeyError(f"Unsupported currency {to}")
     if amount_eur < 0:
-        raise ValueError("amount must be non-negative")
+        raise ValueError("XXamount must be non-negativeXX")
     return _round(amount_eur / rate)
 
 # 9
</pre><h3>Mutant 114</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -133,7 +133,7 @@
 # 19
 def round_money(value: float, decimals: int = 2) -> float:
     if not isinstance(decimals, int):
-        raise TypeError("decimals must be int")
+        raise TypeError("XXdecimals must be intXX")
     if not isinstance(value, float):
         raise TypeError("decimals must be int")
     return float(Decimal(str(value)).quantize(Decimal((0, (1,), -decimals)), rounding=ROUND_HALF_UP))
</pre><h3>Mutant 116</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -135,7 +135,7 @@
     if not isinstance(decimals, int):
         raise TypeError("decimals must be int")
     if not isinstance(value, float):
-        raise TypeError("decimals must be int")
+        raise TypeError("XXdecimals must be intXX")
     return float(Decimal(str(value)).quantize(Decimal((0, (1,), -decimals)), rounding=ROUND_HALF_UP))
 
 # 20
</pre><h2>Suspicious</h2>Mutants that made the test suite take longer, but otherwise seemed ok<h3>Mutant 21</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -24,7 +24,7 @@
 }
 
 def _round(value: float) -> float:
-    return float(Decimal(str(value)).quantize(Decimal("0.01"), rounding=ROUND_HALF_UP))
+    return float(Decimal(str(value)).quantize(Decimal("XX0.01XX"), rounding=ROUND_HALF_UP))
 
 # 1
 def price_with_tax(net: float) -> float:
</pre><h3>Mutant 113</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -132,7 +132,7 @@
 
 # 19
 def round_money(value: float, decimals: int = 2) -> float:
-    if not isinstance(decimals, int):
+    if  isinstance(decimals, int):
         raise TypeError("decimals must be int")
     if not isinstance(value, float):
         raise TypeError("decimals must be int")
</pre><h3>Mutant 115</h3><pre>--- billing/calculator.py
+++ billing/calculator.py
@@ -134,7 +134,7 @@
 def round_money(value: float, decimals: int = 2) -> float:
     if not isinstance(decimals, int):
         raise TypeError("decimals must be int")
-    if not isinstance(value, float):
+    if  isinstance(value, float):
         raise TypeError("decimals must be int")
     return float(Decimal(str(value)).quantize(Decimal((0, (1,), -decimals)), rounding=ROUND_HALF_UP))
 
</pre></body></html>